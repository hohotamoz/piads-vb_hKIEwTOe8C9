# PiADs - ุฏููู ุงูุฅุนุฏุงุฏ ุงูุณุฑูุน

## โ ุงููุดููุฉ ุงูุชู ุชู ุญููุง

**ูุจู:** ุงูุฅุนูุงูุงุช ูุงูุช ุชูุญูุธ ูู localStorage ุนูู ุฌูุงุฒ ุงููุณุชุฎุฏู ููุท
**ุจุนุฏ:** ุงูุฅุนูุงูุงุช ุชูุญูุธ ูู ูุงุนุฏุฉ ุจูุงูุงุช Supabase ููููู ููุฌููุน ุฑุคูุชูุง

---

## ๐ ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุฎุทูุงุช ุณุฑูุนุฉ)

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ูุดุฑูุน Supabase

1. ุงุฐูุจ ุฅูู: https://supabase.com
2. ุณุฌู ุฏุฎูู ุฃู ุฃูุดุฆ ุญุณุงุจ ุฌุฏูุฏ (ูุฌุงูู)
3. ุงุถุบุท "New Project"
4. ุงููุฃ ุงูุจูุงูุงุช:
   - Project Name: `piads` ุฃู ุฃู ุงุณู ุชุฑูุฏู
   - Database Password: ูููุฉ ูุฑูุฑ ูููุฉ
   - Region: ุงุฎุชุฑ ุฃูุฑุจ ููุทูุฉ ูู

### ุงูุฎุทูุฉ 2: ุงูุญุตูู ุนูู ุจูุงูุงุช ุงูุงุชุตุงู

ุจุนุฏ ุฅูุดุงุก ุงููุดุฑูุน:

1. ุงุฐูุจ ุฅูู Settings > API
2. ุงูุณุฎ:
   - **Project URL** (ูุซู: `https://xxxxx.supabase.co`)
   - **Project API Key** (anon/public key)

### ุงูุฎุทูุฉ 3: ุฅุถุงูุฉ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ

ุฃูุดุฆ ููู `.env.local` ูู ูุฌูุฏ ุงููุดุฑูุน ูุฃุถู:

```env
NEXT_PUBLIC_SUPABASE_URL=https://xxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### ุงูุฎุทูุฉ 4: ุชูููุฐ SQL Script

1. ุงูุชุญ Supabase Dashboard
2. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุฎุชุฑ "SQL Editor"
3. ุงุถุบุท "+ New Query"
4. ุงูุชุญ ููู `scripts/setup-database.sql` ูู ูุดุฑูุนู
5. ุงูุณุฎ ูุงูู ูุญุชูู ุงูููู ูุงูุตูู ูู SQL Editor
6. ุงุถุบุท "Run" ุฃู ุงุถุบุท `Ctrl+Enter`

ูุฌุจ ุฃู ุชุฑู ุฑุณุงูุฉ "Success" โ

### ุงูุฎุทูุฉ 5: ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏ

1. ูู Supabase Dashboardุ ุงุฐูุจ ุฅูู "Table Editor"
2. ูุฌุจ ุฃู ุชุฑู ุงูุฌุฏุงูู ุงูุชุงููุฉ:
   - โ ads
   - โ reviews
   - โ messages
   - โ notifications

### ุงูุฎุทูุฉ 6: ุชุดุบูู ุงูุชุทุจูู

```bash
npm install
npm run dev
```

ุงูุชุญ ุงููุชุตูุญ ุนูู: http://localhost:3000

---

## ๐ ุงุฎุชุจุงุฑ ุงููุธุงู

### 1. ูุดุฑ ุฅุนูุงู ุฌุฏูุฏ

1. ุณุฌู ุฏุฎูู ูู ุงูุชุทุจูู
2. ุงุถุบุท ุนูู ุฒุฑ "+" ูู ุงูุฃุณูู
3. ุงููุฃ ุจูุงูุงุช ุงูุฅุนูุงู
4. ุงุถุบุท "Post Ad for Free"

### 2. ุฑุคูุฉ ุงูุฅุนูุงู ูู ุฌูุงุฒ ุขุฎุฑ

1. ุงูุชุญ ุงูุชุทุจูู ูู ูุชุตูุญ ุขุฎุฑ ุฃู ุฌูุงุฒ ุขุฎุฑ
2. ูุฌุจ ุฃู ุชุฑู ุงูุฅุนูุงู ุงูุฐู ูุดุฑุชู! ๐

### 3. ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

1. ุงูุชุญ Supabase Dashboard > Table Editor > ads
2. ูุฌุจ ุฃู ุชุฑู ุงูุฅุนูุงู ุงููุญููุธ ูู ุงูุฌุฏูู

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ

### ุฎุทุฃ: "Invalid Supabase URL"

โ **ุงููุดููุฉ:** ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ ุบูุฑ ุตุญูุญุฉ

โ **ุงูุญู:**
- ุชุฃูุฏ ูู ูุฌูุฏ ููู `.env.local`
- ุชุฃูุฏ ูู ุตุญุฉ ููู URL ู API Key
- ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู (`npm run dev`)

### ุฎุทุฃ: "relation 'ads' does not exist"

โ **ุงููุดููุฉ:** ูู ูุชู ุชูููุฐ SQL script

โ **ุงูุญู:**
- ุงูุชุญ Supabase > SQL Editor
- ุดุบูู ูุญุชูู `scripts/setup-database.sql`

### ุฎุทุฃ: "Row violates row-level security policy"

โ **ุงููุดููุฉ:** ุณูุงุณุงุช ุงูุฃูุงู ูู ูุชู ุฅูุดุงุคูุง ุจุดูู ุตุญูุญ

โ **ุงูุญู:**
- ุฃุนุฏ ุชุดุบูู SQL script ูุงููุงู
- ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฏุฎูู ูู ุงูุชุทุจูู

---

## ๐ ูุงุฐุง ุชู ุฅูุดุงุคู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ

### ุงูุฌุฏุงูู (Tables)
- **ads**: ุชุฎุฒูู ุฌููุน ุงูุฅุนูุงูุงุช
- **reviews**: ุชููููุงุช ุงูุฅุนูุงูุงุช
- **messages**: ุฑุณุงุฆู ุงููุณุชุฎุฏููู
- **notifications**: ุฅุดุนุงุฑุงุช ุงููุธุงู

### ุงูููุงุฑุณ (Indexes)
- ุจุญุซ ุณุฑูุน ุญุณุจ ุงููุณุชุฎุฏู
- ุจุญุซ ุณุฑูุน ุญุณุจ ุงูุญุงูุฉ
- ุจุญุซ ุณุฑูุน ุญุณุจ ุงููุฆุฉ ูุงูููุทูุฉ

### ุณูุงุณุงุช ุงูุฃูุงู (Security Policies)
- ููุท ุตุงุญุจ ุงูุฅุนูุงู ููููู ุชุนุฏููู
- ุงูุฌููุน ูููููู ูุฑุงุกุฉ ุงูุฅุนูุงูุงุช ุงููุดุทุฉ
- ุญูุงูุฉ ุงูุฑุณุงุฆู (ููุท ุงููุฑุณู ูุงููุณุชูุจู)

### ุงููุธุงุฆู (Functions)
- `increment_ad_views()`: ุฒูุงุฏุฉ ุนุฏุฏ ุงููุดุงูุฏุงุช ุชููุงุฆูุงู

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจุนุฏ ุงูุฅุนุฏุงุฏ ุงููุงุฌุญุ ููููู:

1. โ ูุดุฑ ุงูุฅุนูุงูุงุช ูุฑุคูุชูุง ูู ุฃู ุฌูุงุฒ
2. โ ุฅุถุงูุฉ ุชููููุงุช ููุฑุงุฌุนุงุช
3. โ ุฅุฑุณุงู ุฑุณุงุฆู ุจูู ุงููุณุชุฎุฏููู
4. โ ุงุณุชูุจุงู ุฅุดุนุงุฑุงุช ููุฑูุฉ

---

## ๐ ููุงุญุธุงุช ุฃูููุฉ

- โ๏ธ ูุง ุชุดุงุฑู `SUPABASE_SERVICE_ROLE_KEY` ุฃุจุฏุงู
- โ ุงุณุชุฎุฏู ููุท `SUPABASE_ANON_KEY` ูู ุงููุชุบูุฑุงุช ุงูุนุงูุฉ
- โ Row Level Security (RLS) ููุนูู ูุญูุงูุฉ ุงูุจูุงูุงุช
- โ ุฌููุน ุงูุนูููุงุช ูุญููุฉ ุจุณูุงุณุงุช ุฃูุงู ุตุงุฑูุฉ

---

## ๐ ุงูุญุฏูุฏ ุงููุฌุงููุฉ (Free Tier)

Supabase ุงููุฌุงูู ูููุฑ:
- ๐พ 500 MB Database storage
- ๐ค 1 GB File storage
- ๐ 2 GB Bandwidth
- ๐ 50,000 Monthly active users

ูุฐุง ุฃูุซุฑ ูู ูุงูู ููุจุฏุก! ๐

---

## ๐ ุชุญุชุงุฌ ูุณุงุนุฏุฉุ

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:

1. **ุชุญูู ูู ุงูู Console ูู ุงููุชุตูุญ**: `F12` > Console
2. **ุฑุงุฌุน Supabase Logs**: Dashboard > Logs
3. **ุงูุฑุฃ ุงูุฏููู ุงููุงูู**: `DATABASE_MIGRATION_GUIDE.md`

---

## โจ ุชูุงูููุง!

ุงูุขู ูุฏูู ุชุทุจูู PiADs ูุนูู ุจูุงุนุฏุฉ ุจูุงูุงุช ุญููููุฉ! ๐

ุฌููุน ุงููุณุชุฎุฏููู ูููููู ุงูุขู ุฑุคูุฉ ุงูุฅุนูุงูุงุช ุงูููุดูุฑุฉ ูู ุฃู ููุงู ูู ุงูุนุงูู! ๐
